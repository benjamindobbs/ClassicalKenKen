<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Classical KenKen</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
        <style>
            body {
                color: #000000;
                font-family:Monospace;
                font-size:15px;
                text-align:center;

                background-color: #f0f0f0;
                margin: 0px;
            }

            .timer {
                font-size: 150%;
            }
        </style>
    </head>
    <body>
        <script src="https://accounts.google.com/gsi/client" async></script>

        <script src="https://apis.google.com/js/api.js"></script>
        <script>
        /**
         * Sample JavaScript code for sheets.spreadsheets.values.append
         * See instructions for running APIs Explorer code samples locally:
         * https://developers.google.com/explorer-help/code-samples#javascript
         */

        function authenticate() {
            return gapi.auth2.getAuthInstance()
                .signIn({scope: "https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/spreadsheets"})
                .then(function() { console.log("Sign-in successful"); },
                    function(err) { console.error("Error signing in", err); });
        }
        function loadClient() {
            gapi.client.setApiKey("AIzaSyBC-ZQ8kUACSO71K-1UVM4vj8hl6ZU9Bhw");
            return gapi.client.load("https://sheets.googleapis.com/$discovery/rest?version=v4")
                .then(function() { console.log("GAPI client loaded for API"); },
                    function(err) { console.error("Error loading GAPI client for API", err); });
        }
        // Make sure the client is loaded and sign-in is complete before calling this method.
        function execute() {
            let values = [
                [
                "test"
                ]
                // Additional rows ...
            ];
            const body = {
                values: values,
            };
            return gapi.client.sheets.spreadsheets.values.append({
            "spreadsheetId": "1Vdi4qN39bKY7nUumtKDzwhhJERcHdtelAPikodLBtwc",
            "range": "A1",
            "valueInputOption": "RAW",
            "access_token": "245572615958-3kskd4gc8svh1mvj6bj08psdg187jkru.apps.googleusercontent.com",
            "resource": body
            })
                .then(function(response) {
                        // Handle the results here (response.result has the parsed body).
                        console.log("Response", response);
                    },
                    function(err) { console.error("Execute error", err); });
        }
        gapi.load("client:auth2", function() {
            gapi.auth2.init({client_id: "245572615958-3kskd4gc8svh1mvj6bj08psdg187jkru.apps.googleusercontent.com"});
        });
</script>
<button onclick="authenticate().then(loadClient)">authorize and load</button>
<button onclick="execute()">execute</button>

        </script>
   </div>

        <h1>Classical KenKen</h1>
        <select id="difficultySelect">
            <option selected>Easy</option>
            <option>Medium</option>
            <option>Hard</option>
        </select>
        <input type="button" onclick="generateBoard()" value="Create">
        <input type="button" onclick="hide()" value="Clear">
        <hr>
        Time: <span id="time" class="timer"></span>s
        <div id="container"></div>

        <script src="kenken.js"></script>


        </script>
    </body>
</html>
